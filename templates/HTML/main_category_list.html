{% extends 'HTML/base.html' %}

{% block title %}ëª¨ì˜ê³ ì‚¬ ëŒ€ë¶„ë¥˜ ì„ íƒ{% endblock %}

{% block content %}

<style>
    .main-btn {
        display: inline-block;
        margin: 10px;
        padding: 10px 20px;
        background: #333;
        color: white;
        border-radius: 8px;
        cursor: pointer;
    }

    .sub-box {
        margin-top: 20px;
        display: none;
    }

    .sub-btn {
        display: inline-block;
        margin: 8px;
        padding: 8px 20px;
        background: #4CAF50;
        color: white;
        border-radius: 8px;
        text-decoration: none;
    }
</style>

<script>
    function toggleSub(mainId) {
        // ëª¨ë“  sub ì˜ì—­ ìˆ¨ê¸°ê¸°
        const allSub = document.querySelectorAll(".sub-box");
        allSub.forEach(div => div.style.display = "none");

        // ì„ íƒí•œ ë¶€ë¶„ë§Œ í‘œì‹œ
        document.getElementById("sub-" + mainId).style.display = "block";
    }
</script>

<h2>ğŸ“˜ ëª¨ì˜ê³ ì‚¬ ëŒ€ë¶„ë¥˜ë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>

{% for main in main_categories %}
    <div class="main-btn" onclick="toggleSub({{ main.id }})">
        {{ main.name }}
    </div>
{% endfor %}

<hr style="margin: 30px 0;">

{% for main in main_categories %}
    <div id="sub-{{ main.id }}" class="sub-box">
        <h3>ğŸ“˜ {{ main.name }} ì¤‘ë¶„ë¥˜ë¥¼ ì„ íƒí•˜ì„¸ìš”</h3>

        {% for sub in main.subcategory_set.all %}
            <a class="sub-btn" href="{% url 'quiz_view' sub.id %}">
                {{ sub.name }}
            </a>
        {% empty %}
            <p>ë“±ë¡ëœ ì¤‘ë¶„ë¥˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endfor %}
    </div>
{% endfor %}

{% endblock %}